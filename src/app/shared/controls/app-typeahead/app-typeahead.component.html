<div *ngIf="form" [formGroup]="form">
  <input type="hidden" [formControlName]="name">

  <mat-form-field [hideRequiredMarker]="!isRequired" [floatLabel]="floatLabel" class="width100per">
    <mat-icon matPrefix class="app-input-icon">{{icon}}</mat-icon>

    <input matInput type="text" [value]="viewValue" [placeholder]="label" (keyup)="onKeyup($event.target.value)" [matAutocomplete]="auto">

    <mat-icon *ngIf="control.value" matSuffix class="app-input-icon">check</mat-icon>
    <mat-icon *ngIf="!control.value" matSuffix class="app-input-icon">cancel</mat-icon>

    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
      <mat-option *ngFor="let option of options" [value]="option.text" (onSelectionChange)="onSelection(option)">
        {{option.text}}
      </mat-option>
    </mat-autocomplete>

    <mat-error *ngIf="control.hasError('email')">
      Please enter a valid email address
    </mat-error>
    <mat-error *ngIf="control.hasError('required')">
      <strong>Required</strong>
    </mat-error>
    <mat-error *ngIf="control.hasError('minlength')">
      Minimum length is {{control.errors['minlength'].requiredLength}}
    </mat-error>
    <mat-error *ngIf="control.hasError('maxlength')">
      Maximum length is {{control.errors['maxlength'].requiredLength}}
    </mat-error>
    <mat-error *ngIf="control.hasError('matchOther')">
      Not Matching
    </mat-error>
  </mat-form-field>
</div>



